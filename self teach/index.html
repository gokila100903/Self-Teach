<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>login</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<style>
    body{
        background-image: url("https://wallpapers.com/images/hd/aesthetic-library-9ta9buaicug53bfz.jpg");   
        background-repeat: no-repeat;
        background-size: cover;
        background-attachment: fixed;
        margin-top: 8%;
    }
</style>
</head>
<body>
    <!-- Login Form --><center>
    <div id="loginForm" style=" width: 400px;" class="m-5 p-5 bg-light ">
      <h2 class="text-info">Login</h2>
        <form name="loginform" action="project1.html"onsubmit="return loginUser()" class="was-validate">
            <div class="form-group text-info">
                <label for="loginEmail">Email</label>
                <input type="email" id="loginEmail" name="loginEmail" class="form-control" required>
            </div>
            <div class="form-group text-info">
                <label for="loginPassword">Password</label>
                <input type="password" id="loginPassword" name="loginPassword" class="form-control" required>
            </div><div class="mt-5">
            <button type="submit" class="btn btn-info">Login</button></div><br>
            Create New Account ? <a href="./registeration.html">Sign In</a>
        </form>
    </div>
</div>
</center>
<script>
     // Function to login user
     function loginUser() {
            var loginEmail = document.getElementById('loginEmail').value;
            var loginPassword = document.getElementById('loginPassword').value;

            // Retrieve existing users from localStorage or initialize empty array
            var users = JSON.parse(localStorage.getItem('users')) || [];

            // Validate login credentials
            var loggedIn = false;
            users.forEach(function(user) {
                if (user.email === loginEmail && user.password === loginPassword) {
                    alert("Login successful! Welcome, " + user.username + "!");
                    loggedIn = true;
                    return false; // Exit forEach loop
                }
            });

            if (!loggedIn) {
                alert("Invalid email or password.");
            }

            return loggedIn; // Return login status
        }
</script>
</body>
</html>